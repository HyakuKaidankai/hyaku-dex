---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';

import HyakuDexLogo from '../assets/logo.png';
import FilterByType from '../components/dex/sidebar/FilterByType.astro';
import FilterByAbility from '../components/dex/sidebar/FilterByAbility.astro';

import FilterByName from '../components/dex/FilterByName.astro';
import DexCard from '../components/dex/dexcard/DexCard.astro'; 

import FilterScript from "../components/dex/FilterScript.astro";

import { listPkmn } from '../components/functions/pokemon.ts';

---
<Layout>
    <div class="drawer lg:drawer-open">
        <input id="my-drawer-2" type="checkbox" class="drawer-toggle" />
        <div class="drawer-content flex flex-col items-center justify-top">
            <label for="my-drawer-2" class="btn btn-outline drawer-button mt-[10px] lg:hidden border-2 border-pkb-red hover:bg-pkb-red">
            Open filters
            </label>
            <div class="p-[25px] w-full flex flex-wrap gap-4">
                <div role="alert" class="alert alert-info w-full">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="h-6 w-6 shrink-0 stroke-current">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>Based on <a class="font-semibold" target="_blank" href="https://drive.google.com/file/d/1-1d4TzWJrW3bNRUDSIqp--wJ-K_eod-L/view">Data's Homebrew Gen 8 Dex</a>, the <a class="font-semibold" target="_blank" href="https://drive.google.com/file/d/1BTXh6pb90AItb1aClXq2nxsWHP7HaJ4z/view">official Hisui Dex</a> and the <a class="font-semibold" target="_blank" href="https://docs.google.com/document/d/1wBXsHwkJF0yBJD2zijJIeBGhu-CZJeGjY_Jr5UfCTBM/edit?tab=t.0">Community Homebrew Gen 9 Dex</a>. Information may differ from official content.</span>
                </div>
                <FilterByName/>
                <div id="pokemonList" class="w-full flex flex-wrap justify-center gap-[20px]">
                    {listPkmn().map((pkmn: any) => {
                        return (
                            <DexCard pkmn={pkmn} />
                        )
                    } )}
                </div>  
            </div>
        </div>
        <div class="drawer-side">
            <label for="my-drawer-2" aria-label="close sidebar" class="drawer-overlay"></label>
            <ul class="menu bg-base-200 text-base-content min-h-full w-64 p-4">
                <li class="menu-title">
                    <Image 
                        src={HyakuDexLogo}
                        alt="logo"
                        decoding="async"
                        loading="lazy"
                        class="!bg-transparent"
                    />
                </li>
                <li class="menu-title">Filters</li>
                <!-- Sidebar content here -->
                <li>
                    <details>
                        <summary>Types</summary>
                        <FilterByType />
                    </details>
                </li>
                <li>
                    <details>
                        <summary>Ability</summary>
                        <FilterByAbility />
                    </details>
                </li>
            </ul>
        </div>
    </div>
    <FilterScript />
</Layout>

